<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>roman</title>
</head>

<body>
    <script>
        //常用罗马/阿拉伯数字映射  
        var mapping = {
            M: 1000,
            CM: 900,
            D: 500,
            CD: 400,
            C: 100,
            XC: 90,
            L: 50,
            XL: 40,
            X: 10,
            IX: 9,
            V: 5,
            IV: 4,
            I: 1
        };

        function translate(roman) {
            var result = 0;
            for (var i = 0; i < roman.length;) {
                var sub = roman.slice(i);
                for (var j in mapping) {
                    if (sub.indexOf(j) == 0) {
                        result += mapping[j];
                        i += j.length;
                        break;
                    }
                }
            }
            return result;
        }

        //21  
        // console.log(translate("XXI"));
        //1990  
        // console.log(translate("MCMXC"));
        //2008  
        // console.log(translate("MMVIII"));
        //1666  
        // console.log(translate("MDCLXVI"));
        // console.log("MCMIII");
        console.log(translate("VIMCII"));
    </script>
</body>

</html>